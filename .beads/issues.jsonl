{"id":"dot-do-capnweb-3dm","title":"Create template/ directory with 17-language scaffold","description":"## Overview\nCreate a template directory that can be used to scaffold new .do domain repositories (mongo.do, database.do, agents.do, etc.)\n\n## Structure\n```\ntemplate/\n├── packages/\n│   ├── typescript/     # {name}.do npm package stub\n│   ├── python/         # {name}-do PyPI package stub\n│   ├── rust/           # {name}-do crates.io stub\n│   ├── go/             # go.{name}.do stub\n│   └── ... (all 17 languages)\n├── scripts/\n│   ├── build.ts        # Cross-language build\n│   ├── test.ts         # Cross-language test runner\n│   └── publish.ts      # Multi-registry publish\n├── .github/\n│   └── workflows/\n│       ├── test.yml    # CI test workflow\n│       └── publish.yml # Release publish workflow\n├── test/\n│   └── conformance/    # YAML test specs (copied/customized)\n└── template.json       # Template metadata and placeholders\n```\n\n## Placeholders\n- `{{name}}` - Domain name (e.g., \"mongo\", \"database\")\n- `{{Name}}` - PascalCase (e.g., \"Mongo\", \"Database\")  \n- `{{NAME}}` - UPPERCASE (e.g., \"MONGO\", \"DATABASE\")\n\n## TDD Approach\n1. RED: Write tests for template variable substitution\n2. GREEN: Implement substitution logic\n3. REFACTOR: Extract reusable scaffolding utilities","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-12T05:58:00.718685-06:00","updated_at":"2026-01-12T12:00:04Z"}
{"id":"dot-do-capnweb-8t6","title":"TDD: Implement Rust rpc-do SDK with conformance tests","description":"## Overview\nImplement the Rust rpc-do SDK using TDD against the conformance test suite.\n\n## TDD Cycle\n\n### RED - Failing conformance tests\n```bash\ncd packages/rust\ncargo test conformance -- --nocapture\n```\n\n### GREEN - Implement to pass\n1. WebSocket transport using tokio-tungstenite\n2. RpcPromise as Future implementation\n3. Macro-based or trait-based stub generation\n4. .map() with closure capture\n\n### REFACTOR\n- Zero-copy where possible\n- Proper error types (thiserror)\n- Feature flags for async runtimes\n\n## Acceptance Criteria\n- [ ] All conformance tests pass\n- [ ] No unsafe code (or well-documented)\n- [ ] Works with tokio and async-std\n- [ ] Package publishable as `rpc-do` on crates.io","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-12T05:59:03.265672-06:00","updated_at":"2026-01-12T12:00:04Z"}
{"id":"dot-do-capnweb-9g9","title":"Multi-language Cap'n Web client ports","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-11T10:43:19.532532-06:00","updated_at":"2026-01-11T10:51:20.51319-06:00","closed_at":"2026-01-11T10:51:20.51319-06:00","close_reason":"Epic complete: All 8 language syntax explorations and converged API designs created"}
{"id":"dot-do-capnweb-azl","title":"TDD: Implement Go rpc SDK with conformance tests","description":"## Overview\nImplement the Go go.rpc.do SDK using TDD against the conformance test suite.\n\n## TDD Cycle\n\n### RED - Failing conformance tests\n```bash\ncd packages/go\ngo test -v ./... -run TestConformance\n```\n\n### GREEN - Implement to pass\n1. WebSocket transport using gorilla/websocket\n2. Promise-like pattern with channels\n3. Reflection-based or codegen stub\n4. Map() with func parameter\n\n### REFACTOR\n- Context support throughout\n- Proper error wrapping\n- Connection pooling\n\n## Acceptance Criteria\n- [ ] All conformance tests pass\n- [ ] Idiomatic Go (golangci-lint clean)\n- [ ] Context cancellation works\n- [ ] Package at go.rpc.do","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-12T05:59:08.448114-06:00","updated_at":"2026-01-12T12:00:05Z"}
{"id":"dot-do-capnweb-e9g","title":"Integrate oauth.do into rpc.do SDK","description":"## Overview\nIntegrate oauth.do authentication into the rpc.do SDK so all downstream packages (mongo.do, kafka.do, etc.) get auth automatically.\n\n## Integration Points\n\n### Connection Setup\n```typescript\nimport { connect } from 'rpc.do'\n\n// Auth handled automatically\nconst client = await connect('mongo.do')\n\n// Under the hood:\n// 1. Check for DOTDO_TOKEN env var\n// 2. Check for stored token via oauth.do\n// 3. If no token, prompt for login (interactive) or throw (non-interactive)\n// 4. Attach token to WebSocket/HTTP headers\n// 5. Handle 401 → refresh token → retry\n```\n\n### Configuration\n```typescript\nimport { connect } from 'rpc.do'\n\n// Explicit token (CI/CD)\nconst client = await connect('mongo.do', {\n  token: process.env.DOTDO_TOKEN\n})\n\n// API key auth (service accounts)\nconst client = await connect('mongo.do', {\n  apiKey: process.env.DOTDO_API_KEY\n})\n\n// Disable interactive auth\nconst client = await connect('mongo.do', {\n  interactive: false  // Throws if not logged in\n})\n```\n\n## Auth Flow\n```\nconnect('mongo.do')\n    │\n    ▼\n┌─────────────────┐\n│ Check env vars  │ → DOTDO_TOKEN? → Use it\n└────────┬────────┘\n         │ No\n         ▼\n┌─────────────────┐\n│ Check oauth.do  │ → Has valid token? → Use it\n│ token store     │\n└────────┬────────┘\n         │ No/Expired\n         ▼\n┌─────────────────┐\n│ Interactive?    │ → No → Throw AuthRequired error\n└────────┬────────┘\n         │ Yes\n         ▼\n┌─────────────────┐\n│ oauth.do login  │ → Browser OAuth → Store token → Use it\n└─────────────────┘\n```\n\n## Downstream Usage\n```typescript\n// mongo.do - auth is transparent\nimport { MongoClient } from 'mongo.do'\nconst client = new MongoClient()  // Uses rpc.do → oauth.do under hood\nawait client.connect()\n\n// database.do - same pattern\nimport { Database } from 'database.do'\nconst db = await Database.connect('mydb')  // Auth handled\n```\n\n## Per-Language Implementation\nEach rpc.do SDK needs to:\n1. Depend on oauth.do equivalent package\n2. Check token sources in priority order\n3. Handle token refresh on 401\n4. Support env var override for CI/CD","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-12T06:07:55.016437-06:00","updated_at":"2026-01-12T06:07:55.016437-06:00","external_ref":"gh-10"}
{"id":"dot-do-capnweb-ebh","title":"Add dependency chain: oauth.do → rpc.do → domain SDKs","description":"## Overview\nEstablish the dependency chain so domain SDKs automatically get auth.\n\n## Dependency Graph\n```\nmongo.do ─────┐\nkafka.do ─────┼──→ rpc.do ──→ oauth.do ──→ org.ai (base config)\ndatabase.do ──┤\nagents.do ────┘\n```\n\n## Package Dependencies\n\n### TypeScript\n```json\n// oauth.do/package.json\n{ \"dependencies\": { \"org.ai\": \"^0.1.0\" } }\n\n// rpc.do/package.json  \n{ \"dependencies\": { \"oauth.do\": \"^0.1.0\" } }\n\n// mongo.do/package.json\n{ \"dependencies\": { \"rpc.do\": \"^0.1.0\" } }\n```\n\n### Python\n```toml\n# oauth-do/pyproject.toml\ndependencies = [\"org-ai>=0.1.0\"]\n\n# rpc-do/pyproject.toml\ndependencies = [\"oauth-do>=0.1.0\"]\n\n# mongo-do/pyproject.toml\ndependencies = [\"rpc-do>=0.1.0\"]\n```\n\n### Rust\n```toml\n# oauth-do/Cargo.toml\n[dependencies]\norg-ai = \"0.1\"\n\n# rpc-do/Cargo.toml\n[dependencies]\noauth-do = \"0.1\"\n\n# mongo-do/Cargo.toml\n[dependencies]\nrpc-do = \"0.1\"\n```\n\n## Tasks\n- [ ] Create oauth.do package structure for all 17 languages\n- [ ] Update rpc.do to depend on oauth.do\n- [ ] Document the dependency chain in each README\n- [ ] Ensure org.ai base package exists","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T06:08:00.189626-06:00","updated_at":"2026-01-12T12:08:28Z","external_ref":"gh-11"}
{"id":"dot-do-capnweb-id9","title":"Update package names to {name}.do format","description":"## Overview\nUpdate all package manifests to use the new {name}.do naming convention.\n\n## Changes per Language\n\n### TypeScript (npm)\n- packages/typescript/rpc/package.json: name → \"rpc.do\"\n\n### Python (PyPI)  \n- packages/python/rpc/pyproject.toml: name → \"rpc-do\"\n\n### Rust (crates.io)\n- packages/rust/rpc/Cargo.toml: name → \"rpc-do\"\n\n### Go\n- packages/go/rpc/go.mod: module → \"go.rpc.do\"\n\n### Ruby (RubyGems)\n- packages/ruby/rpc/*.gemspec: name → \"rpc.do\"\n\n### Java/Kotlin (Maven)\n- packages/java/rpc/build.gradle.kts: group → \"do.rpc\"\n- packages/kotlin/rpc/build.gradle.kts: group → \"do.rpc\"\n\n### C#/F# (NuGet)\n- packages/dotnet/rpc/*.csproj: PackageId → \"Rpc.Do\"\n- packages/fsharp/rpc/*.fsproj: PackageId → \"Rpc.Do\"\n\n### Others\n- Dart: rpc_do\n- Elixir: :rpc_do\n- PHP: rpc.do/sdk\n- And remaining languages...\n\n## Validation\n- Run `npm run validate:packages` to verify all names follow convention","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T05:59:36.726169-06:00","updated_at":"2026-01-12T05:59:36.726169-06:00"}
{"id":"dot-do-capnweb-ivo","title":"TDD: Implement Python rpc-do SDK with conformance tests","description":"## Overview\nImplement the Python rpc-do SDK using TDD against the conformance test suite.\n\n## TDD Cycle\n\n### RED - Failing conformance tests\n```bash\ncd packages/python\npytest tests/test_conformance.py -v\n# All tests should fail initially (SDK not implemented)\n```\n\n### GREEN - Implement to pass\n1. WebSocket transport using websockets library\n2. RpcPromise with async/await support\n3. Proxy-based stub using __getattr__\n4. .map() with lambda capture\n\n### REFACTOR\n- AsyncIO best practices\n- Type hints throughout\n- Extract reusable components\n\n## Acceptance Criteria\n- [ ] All conformance tests pass\n- [ ] Full type hints (mypy strict)\n- [ ] Async context manager support\n- [ ] Package publishable as `rpc-do` on PyPI","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-12T05:58:58.088153-06:00","updated_at":"2026-01-12T05:58:58.088153-06:00"}
{"id":"dot-do-capnweb-jo1","title":"TDD: Implement TypeScript rpc.do SDK with conformance tests","description":"## Overview\nImplement the TypeScript rpc.do SDK using TDD (red-green-refactor) against the conformance test suite.\n\n## TDD Cycle\n\n### RED - Failing conformance tests\nThe conformance tests in test/conformance/*.yaml define expected behavior:\n- basic.yaml: square(), returnNumber(), makeCounter()\n- pipelining.yaml: Promise pipelining, single round-trip chains\n- map.yaml: Server-side .map() operations\n\nRun tests expecting failures:\n```bash\nnpm test -- --grep \"conformance\"\n```\n\n### GREEN - Implement to pass\n1. WebSocket transport connecting to test server\n2. RpcPromise with .then(), .catch(), property access\n3. Proxy-based stub for zero-schema method calls\n4. .map() with record/replay\n\n### REFACTOR - Clean up implementation\n- Extract transport layer\n- Separate protocol encoding from client API\n- Add TypeScript generics for type safety\n\n## Acceptance Criteria\n- [ ] All basic.yaml tests pass\n- [ ] All pipelining.yaml tests pass  \n- [ ] All map.yaml tests pass\n- [ ] TypeScript types properly inferred\n- [ ] Package publishable as `rpc.do` on npm","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-12T05:58:38.152839-06:00","updated_at":"2026-01-12T12:00:07Z"}
{"id":"dot-do-capnweb-kzn","title":"Set up test server for conformance testing","description":"## Overview\nSet up the capnweb test server to run conformance tests against all SDK implementations.\n\n## Tasks\n1. Copy/adapt test server from official capnweb repo\n2. Ensure it exposes TestTarget interface:\n   - square(n) -> n*n\n   - returnNumber(n) -> n\n   - makeCounter(initial) -> Counter capability\n   - generateFibonacci(n) -> array\n   - callFunction(stub, method, args) -> result\n3. Add remap/map operation support\n4. Create npm script to start test server\n\n## Test Server Interface\n```typescript\ninterface TestTarget {\n  square(n: number): number\n  returnNumber(n: number): number\n  returnNull(): null\n  returnUndefined(): undefined\n  makeCounter(initial: number): Counter\n  generateFibonacci(n: number): number[]\n  callFunction(stub: any, method: string, args: any[]): any\n}\n\ninterface Counter {\n  value: number\n  increment(by: number): number\n  decrement(by: number): number\n}\n```\n\n## Scripts\n```bash\nnpm run test:server     # Start test server\nnpm run test:all        # Start server + run all language tests\n```","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-12T05:59:31.536581-06:00","updated_at":"2026-01-12T12:00:08Z"}
{"id":"dot-do-capnweb-lna","title":"Design and implement oauth.do SDK for local CLI auth","description":"## Overview\nCreate oauth.do SDK that handles local development authentication across all platforms.\n\n## Architecture\n```\noauth.do SDK\n├── Token Storage\n│   ├── Keychain/Keyring (preferred)\n│   ├── ~/.config/dotdo/credentials (fallback)\n│   └── Environment variables (CI/CD)\n├── OAuth Flows\n│   ├── Browser redirect (desktop)\n│   ├── Device code (headless/SSH)\n│   └── API key (service accounts)\n└── Token Management\n    ├── Refresh before expiry\n    ├── Revocation\n    └── Multi-account support\n```\n\n## API Design\n\n### TypeScript (oauth.do/node)\n```typescript\nimport { ensureLoggedIn, getToken, logout } from 'oauth.do'\n\n// Interactive - opens browser if needed\nconst token = await ensureLoggedIn()\n\n// Non-interactive - throws if not logged in\nconst token = await getToken()\n\n// Check auth status\nconst isLoggedIn = await isAuthenticated()\n\n// Logout\nawait logout()\n```\n\n### Python (oauth-do)\n```python\nfrom oauth_do import ensure_logged_in, get_token\n\ntoken = await ensure_logged_in()  # Opens browser if needed\ntoken = get_token()  # Sync, throws if not logged in\n```\n\n### CLI Integration\n```bash\n# Login command (all platforms)\nnpx oauth.do login\n# or\npip install oauth-do && oauth-do login\n# or  \ncargo install oauth-do && oauth-do login\n\n# Opens browser → OAuth flow → stores token locally\n```\n\n## Token Storage Locations\n\n| Platform | Primary | Fallback |\n|----------|---------|----------|\n| macOS | Keychain | ~/.config/dotdo/ |\n| Linux | libsecret/kwallet | ~/.config/dotdo/ |\n| Windows | Credential Manager | %APPDATA%/dotdo/ |\n\n## Environment Variables\n```bash\nDOTDO_TOKEN=xxx        # Direct token (CI/CD)\nDOTDO_API_KEY=xxx      # API key auth\nDOTDO_CONFIG_DIR=xxx   # Custom config location\n```\n\n## TDD Approach\n1. RED: Test token storage/retrieval\n2. RED: Test OAuth flow mocking\n3. GREEN: Implement storage backends\n4. GREEN: Implement OAuth client\n5. REFACTOR: Extract platform-specific code","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-12T06:07:49.839822-06:00","updated_at":"2026-01-12T06:07:49.839822-06:00","external_ref":"gh-12"}
{"id":"dot-do-capnweb-xy9","title":"Build CLI for scaffolding new .do repos","description":"## Overview\nCreate a CLI tool to scaffold new .do domain repositories from the template.\n\n## Usage\n```bash\n# Via npx\nnpx dotdo init mongo\n\n# Or installed globally\ndotdo init database --output ../database\n\n# Interactive mode\ndotdo init\n? Domain name: agents\n? Description: AI agent orchestration\n? Include all 17 languages? Yes\n```\n\n## Features\n- Template variable substitution\n- Language selection (all or subset)\n- Git init + initial commit\n- Optional: Create GitHub repo via gh CLI\n\n## TDD Approach (Red-Green-Refactor)\n\n### RED Phase - Write failing tests first:\n```typescript\ndescribe('dotdo init', () => {\n  it('should substitute {{name}} placeholders', async () => {\n    const result = await scaffold('mongo', template)\n    expect(result.files['package.json']).toContain('\"name\": \"mongo.do\"')\n  })\n  \n  it('should generate correct package names per registry', async () => {\n    const result = await scaffold('database', template)\n    expect(result.packages.npm).toBe('database.do')\n    expect(result.packages.pypi).toBe('database-do')\n    expect(result.packages.crates).toBe('database-do')\n  })\n  \n  it('should create all 17 language directories', async () => {\n    const result = await scaffold('agents', template)\n    expect(result.languages).toHaveLength(17)\n  })\n})\n```\n\n### GREEN Phase - Implement to pass tests\n### REFACTOR Phase - Extract PackageNamer, TemplateEngine utilities\n\n## Implementation\n- TypeScript CLI using Commander.js\n- Published as `dotdo` npm package (the CLI, not the SDK)\n- Uses degit or simple file copy for scaffolding","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-12T05:58:20.18584-06:00","updated_at":"2026-01-12T05:58:20.18584-06:00"}